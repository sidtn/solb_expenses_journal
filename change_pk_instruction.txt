На этом этапе требуется изменить PK таблицы category c id на uuid.
Для этого поле в поле uuid модели category меняем unique=True на primary_key=True

Django сгенерирует миграцию, которую нужно изменить к следующему виду:

    operations = [
        migrations.AddField(
            model_name='category',
            name='id_backup',
            field=models.IntegerField(null=True),
        ),
        migrations.RunSQL("UPDATE journal_api_category SET id_backup = id"),
        migrations.RemoveField(
            model_name='category',
            name='id'
        ),
        migrations.AlterField(
            model_name='category',
            name='uuid',
            field=models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False),
        ),
        migrations.RenameField(
            model_name='category',
            old_name='id_backup',
            new_name='id'
        )
    ]

Так же мы должны добавить логику автоинкремента поля id.




